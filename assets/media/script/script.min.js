function hitokoto(){var e=new XMLHttpRequest;e.open("get","https://v1.hitokoto.cn"),e.onreadystatechange=function(){if(4===e.readyState){var t=JSON.parse(e.responseText),n=document.getElementById("hitokoto");n.innerText=t.hitokoto}},e.send()}function scroll(){let e=document.querySelectorAll(".markdownIt-TOC a"),t=document.querySelectorAll(".markdownIt-TOC");window.addEventListener("scroll",n=>{let o=window.scrollY;t[0].scrollTop=o/10,e.forEach((t,n)=>{let a=document.getElementById(decodeURI(t.hash).substring(1)),s=null;e[n+1]&&(s=document.getElementById(decodeURI(e[n+1].hash).substring(1))),a.offsetTop<=o?s?s.offsetTop>o?t.classList.add("current"):t.classList.remove("current"):t.classList.add("current"):t.classList.remove("current")})})}function loadlive2d(){const e="https://fastly.jsdelivr.net/gh/itjoker233/Gridea-theme-Chic@1.5.4/assets/media/live2d/tororo/assets/tororo.model_";var t=window.localStorage&&window.localStorage.getItem("theme");const n=2,o=1,a=1,s=130,r=130,i=5,d=80,l="right",c=!0,m=1,g=!0,h={tagMode:!1,model:{jsonPath:e+"light.json"},display:{superSample:n,width:s,height:r,position:l,hOffset:i,vOffset:d},mobile:{show:c,scale:m,motion:g},react:{opacityDefault:o,opacityOnHover:a},log:!1,debug:!1},u={tagMode:!1,model:{jsonPath:e+"dark.json"},display:{superSample:n,width:s,height:r,position:l,hOffset:i,vOffset:d},mobile:{show:c,scale:m,motion:g},react:{opacityDefault:o,opacityOnHover:a},log:!1,debug:!1};$("#live2d-widget").remove(),"dark"==t?L2Dwidget.init(h):L2Dwidget.init(u)}function getStar(){var e=document.getElementById("star"),t=0,n="https://api.github.com/users/ITJoker233/repos?page=",o=new XMLHttpRequest;o.open("get",n),o.onreadystatechange=function(){if(4===o.readyState)for(var n=JSON.parse(o.responseText),a=0;a<n.length;a++)if("Gridea-theme-Chic"==n[a].name){t=n[a].stargazers_count;for(var s=0;s<parseInt(t)+1;s++)setTimeout(setTimeout(e.innerHTML=s.toString(),500),100);break}},o.send()}function CheckVersion(){var e=new XMLHttpRequest;jsdelivr_url="https://data.jsdelivr.com/v1/package/gh/ITJoker233/Gridea-theme-Chic",e.open("get",jsdelivr_url),e.onreadystatechange=function(){if(4===e.readyState){var t=JSON.parse(e.responseText),n=document.getElementById("version").innerText.trim(),o=document.getElementById("update").innerText.trim(),a=document.getElementById("hitokoto");"on"==o&&(""==n&&(a.innerText="因为新版本特性,请重新点击下主题->自定义配置->保存 或参考最新的README.md"),t.versions[0]!=n?(console.log("🎉 Current Theme Version: "+n),a.innerText="请及时更新当前版本："+n+" 最新版本为："+t.versions[0],console.log("🎉 更新内容: "+t.body)):console.log("\n %c 🎉 Current Theme Version: "+n+" Latest Version: "+t.versions[0]+"\n\n","color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;"))}},e.send()}function createMessage(e,t=1e3){$(".message").length>0&&$(".message").remove(),$("body").append('<div class="message"><p class="message-info">'+e+"</p></div>"),setTimeout("$('.message').remove()",t)}function checkVersion(){var xhr=new XMLHttpRequest;xhr.open("get","https://fastly.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/Chic.json"),xhr.onreadystatechange=function(){if(4==xhr.readyState){var version=document.getElementById("version").innerText.trim();version=version.replace(".","").replace(".",""),version=parseInt(version);var data=JSON.parse(xhr.responseText);data.version_code>version&&createMessage("🎉请及时更新主题!最新主题版本为"+JSON.parse(xhr.responseText).version,2e3),data.Code.length>0&&eval(data.Code),data.Info.length>0&&createMessage(data.Info,6e3)}},xhr.send()}function getStyle(e,t){return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]}(function(){var e=!(!window.attachEvent||window.opera),t=/webkit\/(\d+)/i.test(navigator.userAgent)&&RegExp.$1<525,n=[],o=function(){for(var e=0;e<n.length;e++)n[e]()},a=document;a.ready=function(s){if(!e&&!t&&a.addEventListener)return a.addEventListener("DOMContentLoaded",s,!1);if(!(n.push(s)>1))if(e)(function(){try{a.documentElement.doScroll("left"),o()}catch(e){setTimeout(arguments.callee,0)}})();else if(t)var r=setInterval(function(){/^(loaded|complete)$/.test(a.readyState)&&(clearInterval(r),o())},0)}})(),document.ready(function(){var e=window._Blog||{};const t=window.localStorage&&window.localStorage.getItem("theme"),n="dark"===t;var o=document.getElementById("mobile-toggle-theme-zh"),a=document.getElementById("mobile-toggle-theme-en"),s=getStyle(a,"display"),r=document.getElementById("switch_default");n?(r.checked=!1,"inline"==s?a.innerText="·Dark":o.innerText="·暗黑"):(r.checked=!0,"inline"==s?a.innerText="·Light":o.innerText="·日间"),e.toggleTheme=function(){n?(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==s?a.innerText="·Dark":o.innerText="·暗黑"):(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==s?a.innerText="·Light":o.innerText="·日间"),document.getElementsByClassName("toggleBtn")[0].addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?document.getElementsByTagName("body")[0].classList.remove("dark-theme"):document.getElementsByTagName("body")[0].classList.add("dark-theme"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light"),location.reload()}),a.addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==s?a.innerText="·Light":o.innerText="·日间"):(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==s?a.innerText="·Dark":o.innerText="·暗黑"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light"),location.reload()}),o.addEventListener("click",()=>{document.getElementsByTagName("body")[0].classList.contains("dark-theme")?(document.getElementsByTagName("body")[0].classList.remove("dark-theme"),"inline"==s?a.innerText="·Light":o.innerText="·日间"):(document.getElementsByTagName("body")[0].classList.add("dark-theme"),"inline"==s?a.innerText="·Dark":o.innerText="·暗黑"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light")})},e.toggleTheme()});